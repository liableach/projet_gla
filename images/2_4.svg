<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="446px" preserveAspectRatio="none" style="width:457px;height:446px;background:#FFFFFF;" version="1.1" viewBox="0 0 457 446" width="457px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="179.6016" style="stroke:#000000;stroke-width:1.5;" width="441.8022" x="10" y="127.4297"/><rect fill="none" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="421.8022" x="20" y="180.6953"/><g><title>Terminal</title><rect fill="#000000" fill-opacity="0.00000" height="284.8672" width="8" x="59.895" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="81.2969" y2="366.1641"/></g><g><title>Central Server</title><rect fill="#000000" fill-opacity="0.00000" height="284.8672" width="8" x="249.7085" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="253.0405" x2="253.0405" y1="81.2969" y2="366.1641"/></g><g><title>DB</title><rect fill="#000000" fill-opacity="0.00000" height="284.8672" width="8" x="409.8022" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="413.8022" x2="413.8022" y1="81.2969" y2="366.1641"/></g><g class="participant participant-head" data-participant="Terminal"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.79" x="30" y="77.9951">Terminal</text><ellipse cx="63.895" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M63.895,21.5 L63.895,48.5 M50.895,29.5 L76.895,29.5 M63.895,48.5 L50.895,63.5 M63.895,48.5 L76.895,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Terminal"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.79" x="30" y="378.1592">Terminal</text><ellipse cx="63.895" cy="389.9609" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M63.895,397.9609 L63.895,424.9609 M50.895,405.9609 L76.895,405.9609 M63.895,424.9609 L50.895,439.9609 M63.895,424.9609 L76.895,439.9609" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="CS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.3359" x="196.0405" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.3359" x="203.0405" y="69.9951">Central Server</text></g><g class="participant participant-tail" data-participant="CS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.3359" x="196.0405" y="365.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.3359" x="203.0405" y="385.1592">Central Server</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="400.6099" y="77.9951">DB</text><path d="M395.8022,29 C395.8022,19 413.8022,19 413.8022,19 C413.8022,19 431.8022,19 431.8022,29 L431.8022,55 C431.8022,65 413.8022,65 413.8022,65 C413.8022,65 395.8022,65 395.8022,55 L395.8022,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M395.8022,29 C395.8022,39 413.8022,39 413.8022,39 C413.8022,39 431.8022,39 431.8022,29" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="400.6099" y="378.1592">DB</text><path d="M395.8022,391.4609 C395.8022,381.4609 413.8022,381.4609 413.8022,381.4609 C413.8022,381.4609 431.8022,381.4609 431.8022,391.4609 L431.8022,417.4609 C431.8022,427.4609 413.8022,427.4609 413.8022,427.4609 C413.8022,427.4609 395.8022,427.4609 395.8022,417.4609 L395.8022,391.4609" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M395.8022,391.4609 C395.8022,401.4609 413.8022,401.4609 413.8022,401.4609 C413.8022,401.4609 431.8022,401.4609 431.8022,391.4609" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="message" data-participant-1="Terminal" data-participant-2="CS"><polygon fill="#181818" points="241.7085,108.4297,251.7085,112.4297,241.7085,116.4297,245.7085,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="63.895" x2="247.7085" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.8135" x="70.895" y="107.3638">sendPendingValidations()</text></g><path d="M10,127.4297 L86.624,127.4297 L86.624,134.5625 L76.624,144.5625 L10,144.5625 L10,127.4297" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="179.6016" style="stroke:#000000;stroke-width:1.5;" width="441.8022" x="10" y="127.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="25" y="140.4966">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100.2998" x="101.624" y="139.6401">[for each ticket]</text><g class="message" data-participant-1="CS" data-participant-2="DB"><polygon fill="#181818" points="401.8022,161.6953,411.8022,165.6953,401.8022,169.6953,405.8022,165.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="253.7085" x2="407.8022" y1="165.6953" y2="165.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.0938" x="260.7085" y="160.6294">checkTicket(ticketId)</text></g><path d="M20,180.6953 L84.4429,180.6953 L84.4429,187.8281 L74.4429,197.8281 L20,197.8281 L20,180.6953" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="421.8022" x="20" y="180.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="193.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117.6484" x="99.4429" y="192.9058">[Not validated yet]</text><g class="message" data-participant-1="CS" data-participant-2="DB"><polygon fill="#181818" points="401.8022,214.9609,411.8022,218.9609,401.8022,222.9609,405.8022,218.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="253.7085" x2="407.8022" y1="218.9609" y2="218.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.2949" x="260.7085" y="213.895">markValidated()</text></g><g class="message" data-participant-1="CS" data-participant-2="Terminal"><polygon fill="#181818" points="74.895,244.0938,64.895,248.0938,74.895,252.0938,70.895,248.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="68.895" x2="252.7085" y1="248.0938" y2="248.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.8188" x="80.895" y="243.0278">CONFIRMED</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="441.8022" y1="257.0938" y2="257.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119.5444" x="25" y="267.3042">[Already validated]</text><g class="message" data-participant-1="CS" data-participant-2="Terminal"><polygon fill="#181818" points="74.895,288.0313,64.895,292.0313,74.895,296.0313,70.895,292.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="68.895" x2="252.7085" y1="292.0313" y2="292.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.1978" x="80.895" y="286.9653">REJECTED (conflict)</text></g><g class="message" data-participant-1="Terminal" data-participant-2="Terminal"><line style="stroke:#181818;stroke-width:1;" x1="63.895" x2="105.895" y1="335.1641" y2="335.1641"/><line style="stroke:#181818;stroke-width:1;" x1="105.895" x2="105.895" y1="335.1641" y2="348.1641"/><line style="stroke:#181818;stroke-width:1;" x1="64.895" x2="105.895" y1="348.1641" y2="348.1641"/><polygon fill="#181818" points="74.895,344.1641,64.895,348.1641,74.895,352.1641,70.895,348.1641" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2808" x="70.895" y="330.0981">updateLocalState()</text></g><!--SRC=[VP31Ri8m38RlUGgBKthO2t2O16qdCMqmqOgxbnY8Qf8gzP1u-vbsR6E7HN9aoT___udHIShGKZw5Y6nwp19Sw34Ap4gAaf6XeNocF0CSe6oCHy5t70YgfJ4t8JmywWpcC53qRreX7dR8GU6Guc0BOpYb7lOQHkYEe2aTYG4zgbDrjLIrEvBhsd5a9sBbYn4QBsI1TH8uJyxauVBbySVdXBdRtI1Rt27AVBzw3kLc_RJQljRLo13hlnQS2Vtb9-KV-RP-hikshi2w5FSSd4nXkW5phRi5_T9zz5Vdb-IG6z7E5fy0]--></g></svg>