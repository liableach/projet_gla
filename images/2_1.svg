<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="706px" preserveAspectRatio="none" style="width:633px;height:706px;background:#FFFFFF;" version="1.1" viewBox="0 0 633 706" width="633px" zoomAndPan="magnify"><defs/><g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="544.3906" width="8" x="19.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="81.2969" y2="625.6875"/></g><g><title>Ticket System</title><rect fill="#000000" fill-opacity="0.00000" height="544.3906" width="8" x="169.0039" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="172.5015" x2="172.5015" y1="81.2969" y2="625.6875"/></g><g><title>Central Server</title><rect fill="#000000" fill-opacity="0.00000" height="544.3906" width="8" x="367.1201" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="370.4521" x2="370.4521" y1="81.2969" y2="625.6875"/></g><g><title>Payment Service</title><rect fill="#000000" fill-opacity="0.00000" height="544.3906" width="8" x="500.8438" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="504.7881" x2="504.7881" y1="81.2969" y2="625.6875"/></g><g><title>DB</title><rect fill="#000000" fill-opacity="0.00000" height="544.3906" width="8" x="594.8994" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="598.8994" x2="598.8994" y1="81.2969" y2="625.6875"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="77.9951">User</text><ellipse cx="23.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,21.5 L23.9551,48.5 M10.9551,29.5 L36.9551,29.5 M23.9551,48.5 L10.9551,63.5 M23.9551,48.5 L36.9551,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="637.6826">User</text><ellipse cx="23.9551" cy="649.4844" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,657.4844 L23.9551,684.4844 M10.9551,665.4844 L36.9551,665.4844 M23.9551,684.4844 L10.9551,699.4844 M23.9551,684.4844 L36.9551,699.4844" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="TS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.0049" x="116.5015" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.0049" x="123.5015" y="69.9951">Ticket System</text></g><g class="participant participant-tail" data-participant="TS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.0049" x="116.5015" y="624.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.0049" x="123.5015" y="644.6826">Ticket System</text></g><g class="participant participant-head" data-participant="CS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.3359" x="313.4521" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.3359" x="320.4521" y="69.9951">Central Server</text></g><g class="participant participant-tail" data-participant="CS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.3359" x="313.4521" y="624.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.3359" x="320.4521" y="644.6826">Central Server</text></g><g class="participant participant-head" data-participant="PS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.1113" x="438.7881" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.1113" x="445.7881" y="69.9951">Payment Service</text></g><g class="participant participant-tail" data-participant="PS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.1113" x="438.7881" y="624.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.1113" x="445.7881" y="644.6826">Payment Service</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="585.707" y="77.9951">DB</text><path d="M580.8994,29 C580.8994,19 598.8994,19 598.8994,19 C598.8994,19 616.8994,19 616.8994,29 L616.8994,55 C616.8994,65 598.8994,65 598.8994,65 C598.8994,65 580.8994,65 580.8994,55 L580.8994,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M580.8994,29 C580.8994,39 598.8994,39 598.8994,39 C598.8994,39 616.8994,39 616.8994,29" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.3848" x="585.707" y="637.6826">DB</text><path d="M580.8994,650.9844 C580.8994,640.9844 598.8994,640.9844 598.8994,640.9844 C598.8994,640.9844 616.8994,640.9844 616.8994,650.9844 L616.8994,676.9844 C616.8994,686.9844 598.8994,686.9844 598.8994,686.9844 C598.8994,686.9844 580.8994,686.9844 580.8994,676.9844 L580.8994,650.9844" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M580.8994,650.9844 C580.8994,660.9844 598.8994,660.9844 598.8994,660.9844 C598.8994,660.9844 616.8994,660.9844 616.8994,650.9844" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="message" data-participant-1="User" data-participant-2="TS"><polygon fill="#181818" points="161.0039,108.4297,171.0039,112.4297,161.0039,116.4297,165.0039,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="167.0039" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6055" x="30.9551" y="107.3638">Search trip (A,B)</text></g><g class="message" data-participant-1="TS" data-participant-2="CS"><polygon fill="#181818" points="359.1201,137.5625,369.1201,141.5625,359.1201,145.5625,363.1201,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.0039" x2="365.1201" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.7119" x="180.0039" y="136.4966">requestTrips(A,B)</text></g><g class="message" data-participant-1="CS" data-participant-2="DB"><polygon fill="#181818" points="586.8994,166.6953,596.8994,170.6953,586.8994,174.6953,590.8994,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="371.1201" x2="592.8994" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.6895" x="378.1201" y="165.6294">findTrips(A,B)</text></g><g class="message" data-participant-1="DB" data-participant-2="CS"><polygon fill="#181818" points="382.1201,195.8281,372.1201,199.8281,382.1201,203.8281,378.1201,199.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="376.1201" x2="597.8994" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.3047" x="388.1201" y="194.7622">trips list</text></g><g class="message" data-participant-1="CS" data-participant-2="TS"><polygon fill="#181818" points="184.0039,224.9609,174.0039,228.9609,184.0039,232.9609,180.0039,228.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="178.0039" x2="370.1201" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.3047" x="190.0039" y="223.895">trips list</text></g><g class="message" data-participant-1="TS" data-participant-2="User"><polygon fill="#181818" points="34.9551,254.0938,24.9551,258.0938,34.9551,262.0938,30.9551,258.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="28.9551" x2="172.0039" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.1294" x="40.9551" y="253.0278">Display trips</text></g><g class="message" data-participant-1="User" data-participant-2="TS"><polygon fill="#181818" points="161.0039,283.2266,171.0039,287.2266,161.0039,291.2266,165.0039,287.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="167.0039" y1="287.2266" y2="287.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5425" x="30.9551" y="282.1606">Select trip</text></g><g class="message" data-participant-1="TS" data-participant-2="CS"><polygon fill="#181818" points="359.1201,312.3594,369.1201,316.3594,359.1201,320.3594,363.1201,316.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.0039" x2="365.1201" y1="316.3594" y2="316.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.2163" x="180.0039" y="311.2935">checkAvailability(tripId)</text></g><g class="message" data-participant-1="CS" data-participant-2="DB"><polygon fill="#181818" points="586.8994,341.4922,596.8994,345.4922,586.8994,349.4922,590.8994,345.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="371.1201" x2="592.8994" y1="345.4922" y2="345.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.6821" x="378.1201" y="340.4263">checkSeats(tripId)</text></g><g class="message" data-participant-1="DB" data-participant-2="CS"><polygon fill="#181818" points="382.1201,370.625,372.1201,374.625,382.1201,378.625,378.1201,374.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="376.1201" x2="597.8994" y1="374.625" y2="374.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4175" x="388.1201" y="369.5591">seats available</text></g><g class="message" data-participant-1="CS" data-participant-2="TS"><polygon fill="#181818" points="184.0039,399.7578,174.0039,403.7578,184.0039,407.7578,180.0039,403.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="178.0039" x2="370.1201" y1="403.7578" y2="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7573" x="190.0039" y="398.6919">OK</text></g><g class="message" data-participant-1="User" data-participant-2="TS"><polygon fill="#181818" points="161.0039,428.8906,171.0039,432.8906,161.0039,436.8906,165.0039,432.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="167.0039" y1="432.8906" y2="432.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.5591" x="30.9551" y="427.8247">Confirm purchase</text></g><g class="message" data-participant-1="TS" data-participant-2="PS"><polygon fill="#181818" points="492.8438,458.0234,502.8438,462.0234,492.8438,466.0234,496.8438,462.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.0039" x2="498.8438" y1="462.0234" y2="462.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8823" x="180.0039" y="456.9575">processPayment()</text></g><g class="message" data-participant-1="PS" data-participant-2="TS"><polygon fill="#181818" points="184.0039,487.1563,174.0039,491.1563,184.0039,495.1563,180.0039,491.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="178.0039" x2="503.8438" y1="491.1563" y2="491.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.7993" x="190.0039" y="486.0903">payment OK</text></g><g class="message" data-participant-1="TS" data-participant-2="CS"><polygon fill="#181818" points="359.1201,516.2891,369.1201,520.2891,359.1201,524.2891,363.1201,520.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.0039" x2="365.1201" y1="520.2891" y2="520.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1162" x="180.0039" y="515.2231">createTicket(userId, tripId)</text></g><g class="message" data-participant-1="CS" data-participant-2="DB"><polygon fill="#181818" points="586.8994,545.4219,596.8994,549.4219,586.8994,553.4219,590.8994,549.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="371.1201" x2="592.8994" y1="549.4219" y2="549.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.8979" x="378.1201" y="544.356">saveTicket()</text></g><g class="message" data-participant-1="CS" data-participant-2="TS"><polygon fill="#181818" points="184.0039,574.5547,174.0039,578.5547,184.0039,582.5547,180.0039,578.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="178.0039" x2="370.1201" y1="578.5547" y2="578.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.9023" x="190.0039" y="573.4888">ticket + QR</text></g><g class="message" data-participant-1="TS" data-participant-2="User"><polygon fill="#181818" points="34.9551,603.6875,24.9551,607.6875,34.9551,611.6875,30.9551,607.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="28.9551" x2="172.0039" y1="607.6875" y2="607.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0488" x="40.9551" y="602.6216">Notify ticket issued</text></g><!--SRC=[RPB1Ri8m38RlVGgBKz7W1JXCWd91I5ktTWzWKYCiGfl5BbBVVcbAfvRjwk-B_SS96cqyV0dvnA5NDkomLbYKRAwaK7IYT5i02fJ5tCYeLeyM2l9tyb79dfGSkrkmeiA6efCNIOMA9nI2_Iv9-j6mVWtjOHD4zEO2wjb1kbtjbaae1vZrqDDtIw9bW3B0BCBzBi0przM4XDfwFDTt4x0i6W-CioRbSYZ7A1lOipYBtI3y2MZ9Q4JJQEP2vhgz8riyiMNjqjuuLBE8KGetLFcbqvZI4y2XYQLPrlVZKuwigS_iR-3QiA-moaUOl6VEDuP47ijFbqa-wUGUJz9td5x0X-aqF7hQXac7QWN_t47mFbhB-JQ7__827vzFwtnhbC_TAB18IzKF]--></g></svg>